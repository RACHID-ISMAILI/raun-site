
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RAUN - Accès sécurisé</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
</head>
<body>
  <h1>Accès à la matrice RAUN</h1>
  <script>
    
const firebaseConfig = {
  apiKey: "AIzaSyD0R0IFgjCk3gWgVxK3-WnfLubhAqsKbOM",
  authDomain: "raun-network.firebaseapp.com",
  projectId: "raun-network",
  storageBucket: "raun-network.firebasestorage.app",
  messagingSenderId: "541416001018",
  appId: "1:541416001018:web:df564a55255d4615206843",
  measurementId: "G-LVV48NKDF8"
};

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const params = new URLSearchParams(window.location.search);
    const code = params.get('code');
    db.collection("accessLogs").add({
      code: code,
      time: new Date(),
      userAgent: navigator.userAgent
    }).then(() => {
      document.body.innerHTML += "<p>Code enregistré dans Firestore : " + code + "</p>";
    });
  </script>
</body>
</html>
