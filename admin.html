
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Admin - Publier Capsule</title>
  <style>
    body {
      background-color: #000;
      color: #0f0;
      font-family: monospace;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    input, textarea, button {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      font-size: 1em;
      border: 1px solid #0f0;
      background: #111;
      color: #0f0;
    }
    button {
      cursor: pointer;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>üîê Admin - Capsule RAUN</h1>
  <input type="password" id="password" placeholder="Mot de passe RAUN" onkeydown="unlock(event)">
  <div id="editor" class="hidden">
    <input type="text" id="title" placeholder="Titre de la capsule">
    <textarea id="content" rows="10" placeholder="√âcris ta capsule ici..."></textarea>
    <button onclick="saveCapsule()">üì• Publier</button>
    <p id="status"></p>
  </div>
  <script>
    function unlock(e) {
      if (e.key === "Enter") {
        if (e.target.value === "globalcode7676") {
          document.getElementById("editor").classList.remove("hidden");
          e.target.style.display = "none";
        } else {
          alert("Mot de passe incorrect.");
        }
      }
    }

    function saveCapsule() {
      const title = document.getElementById('title').value.trim();
      const content = document.getElementById('content').value.trim();
      const date = new Date().toISOString();

      if (!title || !content) {
        document.getElementById('status').textContent = "‚ùå Remplis tous les champs.";
        return;
      }

      const capsule = { title, content, date };

      let capsules = JSON.parse(localStorage.getItem("capsules") || "[]");
      capsules.unshift(capsule);
      localStorage.setItem("capsules", JSON.stringify(capsules));

      document.getElementById('status').textContent = "‚úÖ Capsule publi√©e.";
      document.getElementById('title').value = "";
      document.getElementById('content').value = "";
    }
  </script>
</body>
</html>
